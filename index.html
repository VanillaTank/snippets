<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сниппеты</title>
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <h1>Сниппеты</h1>

    <!-- <section class="idia">
            <h3 class='title'>Подзаголовок</h3>
            <div class="example"></div>
            <div class="description">
                <h4  class="how-title"></h4>
            </div>
        </section> -->


    <section class="idia">
        <h3 class='title'>Стилизация скралла</h3>
        <div class="example">
            <ul class="bl-5_wrapper">
                <li class="bl-5_item">
                    <div class="bl-5_item-inner">
                        <h4  class="how-title">Пример 1</h4>
                        <pre>
.bl-5_item-inner::-webkit-scrollbar {
    background-color: #f9f9fd;
    width: 10px;
    height: 10px;
}
.bl-5_item-inner::-webkit-scrollbar-thumb {
    background-color: #223c50;
}
//внутряняя тень
.bl-5_item-inner::-webkit-scrollbar-track {
    box-shadow: 5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset;
}</pre>   
                    </div>
                </li>
                <li class="bl-5-item">
                    <div class="bl-5_item-inner bl-5_item-inner-2">
                        <h4  class="how-title">Пример 2</h4>
                        <pre>
.bl-5_item-inner-2::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}
.bl-5_item-inner-2::-webkit-scrollbar-track {
    box-shadow: 5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset;
    background-color: #f9f9fd;
}
.bl-5_item-inner-2::-webkit-scrollbar-thumb {
    background-color: #f2bf93;
    background-image: linear-gradient(45deg,rgba(255, 255, 255, .25) 25%,
                      transparent 25%,
                      transparent 50%,
                      rgba(255, 255, 255, .25) 50%,
                      rgba(255, 255, 255, .25) 75%,
                      transparent 75%,
                      transparent);
}
                        </pre>
                    </div>
                </li>
                <li class="bl-5-item">
                    <div class="bl-5_item-inner bl-5_item-inner-3">
                        <h4  class="how-title">Пример 3</h4>
                        <pre>
.bl-5_item-inner-3::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}
.bl-5_item-inner-3::-webkit-scrollbar-track {
    box-shadow: 5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset;
    background-color: #f9f9fd;
}
.bl-5_item-inner-3::-webkit-scrollbar-thumb {
    background-color: #356184;
    background-image: linear-gradient(90deg, rgba(255, 255, 255, .75), transparent);
}
.bl-5_item-inner-3::-webkit-scrollbar-thumb:vertical{
    background-image: linear-gradient(180deg, rgba(255, 255, 255, .75), transparent);
}
                        </pre>
                    </div>
                </li>
                <li class="bl-5-item">
                    <div class="bl-5_item-inner bl-5_item-inner-4">
                        <h4  class="how-title">Пример 4</h4>
                        <pre>
.bl-5_item-inner-4::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}
.bl-5_item-inner-4::-webkit-scrollbar-track {
    box-shadow: 5px 5px 5px -5px rgba(34, 60, 80, 0.2) inset;
    background-color: #f9f9fd;
    border-radius: 10px;
}
.bl-5_item-inner-4::-webkit-scrollbar-thumb {
    border-radius: 10px;
    background: linear-gradient(180deg, #00c6fb, #005bea);
}                            
                        </pre>
                    </div>
                </li>
            </ul>
        </div>




        <div class="description">
            <h4  class="how-title">Пример 1</h4>
        </div>
    </section>

    <section class="idia">
        <h3 class='title'>Перетскивание элементов</h3>
        <div class="example bl-4__example">
            <div class="zone-1">
                 <img class="lamp" id="lamp" src="images/1.png" alt="" draggable="true">
                 <img class="web" id="web" src="images/2.png" alt="" draggable="true">
            </div>
            <div class="zone-2"></div>
            <div class="zone-3"></div>
            <div class="zone-4"></div>
        </div>
        <div class="description">
            <div class="bl-4__descr-item">
                <h4 class="how-title">HTML</h4>
                <pre class="bl-4__pre">
&#60;img class="lamp" id="lamp" src="images/1.png" alt="" draggable="true"&#62;
&#60;img class="web" id="web" src="images/2.png" alt="" draggable="true"&#62;                  
                </pre>
            </div>
            <div class="bl-4__descr-item">
                <h4 class="how-title">JS</h4>
                <pre class="bl-4__pre">
    НЕ РАБОТАЕТ ДЛЯ СМАРТФОНОВ                
const zone1 = document.querySelector('.zone-1');
const zone2 = document.querySelector('.zone-2'); //повторяем для большего числа блоков циклом
const lamp = document.querySelector('#lamp');
const web = document.querySelector('#web');

zone1.ondragover = allowDrop;  //повторяем для большего числа блоков циклом
zone2.ondragover = allowDrop;


function allowDrop(event) {event.preventDefault()}

lamp.ondragstart = drag;
web.ondragstart = drag;

function drag(event) {event.dataTransfer.setData('id', event.target.id)}
zone1.ondrop = drop;  //повторяем для большего числа блоков циклом
zone2.ondrop = drop;

function drop(event) {
    let itemId = event.dataTransfer.getData('id');
    if (event.target.tagName != "IMG") {
        event.target.append(document.getElementById(itemId));
    } else {
        event.target.parentNode.append(document.getElementById(itemId));
    }
}</pre>
            </div>
            
        </div>
    </section>

    <section class="idia">
        <h3 class='title'>Иммитация набора текста на JS</h3>
        <div class="example bl-3__example">
            <div class="bl-3__out-text">

            </div>
        </div>
        <div class="description">
            <h4 class="how-title">JS</h4>
            <pre class="bl-3__pre">
const outText = document.querySelector('.out-text');                
const text = [
    'Привет мир\n',
    'Герда - лучшая чавчарка \nна свете\n',
    'Собачки спасут мир'
];

function typeText(){
    let line = 0;
    let count = 0;
    let out = ""; 
    function typeLine(){
        //рисуем строку
        let interval = setTimeout(function(){
            out += text[line][count];
            outText.innerText = out + "|";
            count ++;
            // проверки
            if(count >=text[line].length){
                count = 0;
                line ++;
                if(line == text.length) {
                    clearTimeout(interval); 
                    outText.innerText = out; //убираем типа курсор
                    return true 
                }
            }
            typeLine();
        } , getRandomInt(getRandomInt(380*2.5)))
    }
    typeLine()
}

function getRandomInt(max){
    return Math.floor(Math.random()*Math.floor(max))
}

typeText()                
            </pre>
        </div>
    </section>

    <section class="idia">
        <h3 class='title'>Имитация набора текста на CSS</h3>
        <div class="example">
            <div class="bl-2__container">
                <p class="bl-2__text">Добавим немного магии</p>
            </div>
        </div>
        <div class="description bl-2__descr">
            <h4 class="how-title">CSS</h4>
            <div class="bl-2__descr-wrap">
                <pre>
.bl-2__text{
width: 21ch;
font-family: monospace;
font-size: 32px;
line-height: 32px;
white-space: nowrap;
overflow: hidden;
border-right: 3px solid #2fa10c;
animation: flashing-border 0.85s step-end infinite,
           printed-text 5.95s steps(21)
}</pre>
                <pre>
@keyframes flashing-border {
    0% {border-color: #2fa10c;}
    50% {border-color: transparent;}
    100% {border-color: #2fa10c;}
}
@keyframes printed-text {
    0% {width: 0;}
    100% {width: 21ch;}
}

Расчет времени: 
0.85 * кол-во символов / 3 тика анимации
</pre>
            </div>
        </div>
    </section>

    <section class="idia">
        <h3 class='title'>Переворачивающиеся карточки</h3>
        <div class="example">
            <div class="bl-1__container">
                <div class="bl-1__card">
                    <div class="bl-1__front"><span>Передняя сторона</span></div>
                    <div class="bl-1__back"><span>Задняя сторона</span></div>
                </div>
                <div class="bl-1__card">
                    <div class="bl-1__front"><span>Передняя сторона</span></div>
                    <div class="bl-1__back"><span>Задняя сторона</span></div>
                </div>
            </div>

        </div>
        <div class="description">
            <div class="bl-1__descr">
                <div class="bl-1__desck-inner">
                    <h4 class="how-title">CSS</h4>
                    <pre>
.card{
    width: 300px;
    height: 300px;
    position: relative;
    perspective: 1000px;
    -webkit-perspective: 0;
}
.front, .back{
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    transition: 1s;
    backface-visibility: hidden;
    border-radius: 10px;
    -webkit-backface-visibility: hidden;
    visibility:visible;
}
.front{
    background-color: #2fa10c;
}
.back{
    background-color: rgb(196, 233, 61);
    transform: rotateY(180deg);
}
.card:hover .front {transform: rotateY(180deg);}
.card:hover .back {transform: rotateY(360deg);}  
                </pre>
                </div>

                <div class="bl-1__desck-inner">
                    <h4 class="how-title">JS</h4>
                    <pre>
Если клик и ховер на одном устройстве - лагает,
поэтому нужна проверка и разведение по устройствам.
Интересно, как поведет себя на маке.   

возможны проблемы с высотой из-за абсолютного позиционирования.
помнить, что можно дать абсолют только фронту или только бэку.   

if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
    const cards = document.querySelectorAll('.card');
    cards.forEach(item => {
        item.addEventListener('click', (evt) => {
            let currentCard = evt.target.parentNode;
            if (evt.target.className == "front") {
                currentCard.childNodes[1].style.transform = 'rotateY(180deg)';
                currentCard.childNodes[3].style.transform = 'rotateY(360deg)';
            } else {
                currentCard.childNodes[1].style.transform = 'rotateY(0deg)';
                currentCard.childNodes[3].style.transform = 'rotateY(180deg)';
            }
        })
    })
}
                </pre>
                </div>

            </div>
        </div>
    </section>

    <section class="idia">
        <h3 class='title'>Анимация формы</h3>
        <div class="example">
            <div class="shakeBlock fallingBlock">
                <button class="containerAnim-btn shakeBtn">Покачаться</button>
                <button class="containerAnim-btn fallingBtn">Выпасть</button>
            </div>
        </div>
        <div class="description animForm">
            <div>
                <h4 class="how-title">CSS</h4>
                <pre class="animForm-pre">
@keyframes shake {
    0%, 100% {transform: translateX(0);}
    10%, 30%, 50%, 70%, 90% {transform: translateX(-10px);}
    20%, 40%, 60%, 80% {transform: translateX(10px);}
}
.animForm-shake{
    animation-name: shake;
    animation-duration: .7s;
}</pre>
                <h4 class="how-title">JS</h4>
                <pre class="animForm-pre">
const shakeBlock = document.querySelector('.shakeBlock');
const shakeBtn = document.querySelector('.shakeBtn')
shakeBtn.addEventListener('click', ()=>{
    shakeBlock.classList.remove('animForm-shake');
    shakeBlock.scrollWidth = shakeBlock.scrollWidth;
    shakeBlock.classList.add('animForm-shake');
})</pre>
            </div>
            <div>
                <h4 class="how-title">CSS</h4>
                <pre class="animForm-pre">
@keyframes falling {
    0% {transform: translateY(-200px);}
    70% {transform: translateY(30px);}
    90% {transform: translateY(-10px);}
    100%{transform: translateY(0);}
}
.animForm-falling{
    animation-name: falling;
    animation-duration: .6s;
}</pre>
                <h4 class="how-title">JS</h4>
                <pre class="animForm-pre">
const fallingBtn = document.querySelector('.fallingBtn');
    const fallingBlock = document.querySelector('.fallingBlock');
    fallingBtn.addEventListener('click', ()=>{
        fallingBlock.classList.remove('animForm-falling');
        fallingBlock.scrollWidth = fallingBlock.scrollWidth;
        fallingBlock.classList.add('animForm-falling')
    });</pre>
            </div>
        </div>
        <p class="comments">
            В цсс нельзя вешать транзишн из разных источников.
            Поэтому в оригинальном жс я удаляю с блока все классы,
            кроме .shakeBlock и .fallingBlock, через которые его нахожу.
        </p>
    </section>

    <section class="idia inputs">
        <h3 class='title'>Стилизация инпута</h3>
        <div class="example">
            <input class="input_style1" placeholder="Красивый инпут" type="text">
            <input type="text" class="input_style2" placeholder="Инпут с подчеркиванием">
        </div>
        <div class="description">
            <h4 class="how-title">CSS</h4>
            <div class="conteinerDescription">
                <pre>
.input_style1{
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    background-color: #F0F0F4;
    outline: none;
}
</pre>
                <pre>
.input_style2 {
    border: none;
    padding: 10px 20px;
    outline: none;
    background-color: transparent;
    border-bottom: 2px solid #2fa10c;
}
</pre>
            </div>
        </div>
    </section>

    <section>
        <article class="idia">
            <h3 class='title'>Ползающее подчеркивание</h3>
            <div class="example">
                <ul class="flexContainer">
                    <li class="flexContainer-item">
                        <a class="flexContainer__link" href="#">Пункт меню</a>
                    </li>
                    <li class="flexContainer-item">
                        <a class="flexContainer__link" href="#">Пункт меню</a>
                    </li>
                    <li class="flexContainer-item">
                        <a class="flexContainer__link" href="#">Пункт меню</a>
                    </li>
                </ul>
            </div>
            <div class="description">
                <h4 class="how-title">CSS</h4>
                <span>
                    .flexContainer__link {
                    position: relative;
                    }
                </span>
                <span>
                    .flexContainer__link::after{
                    content: "";
                    width: 0;
                    height: 3px;
                    left: auto;
                    position: absolute;
                    background-color: #2fa10c;
                    bottom: -3px;
                    transition: all 0.3s;
                    right: 0;
                    }
                </span>
                <span>
                    .flexContainer__link:hover{
                    color: rgb(139, 8, 8);
                    }
                </span>
                <span>
                    .flexContainer__link:hover::after {
                    width: 100%;
                    right: auto;
                    left: 0 ;
                    }
                </span>
            </div>
        </article>
    </section>
    <section>
        <h2 class="title">Цветное выделение текста</h2>
        <div class="example">
            <p class="text-selection">
                Не-текст интуитивно понятен. Комбинаторное приращение однократно.
                Быличка наблюдаема. Наш современник стал особенно чутко относиться
                к слову, однако гекзаметр традиционно представляет собой метафоричный
                дискурс, и это придает ему свое звучание, свой характер. Возможно,
                что сходство Гугона и Микулы объясняется родством бродячих мотивов,
                однако ударение фонетически притягивает ямб.
            </p>
        </div>
        <div class="description">
            <h4 class="how-title">CSS</h4>
            .класс элемента с текстом::selection {
            background-color: red;
            color: #fff;
            }
        </div>

    </section>



    <script src="main.js"></script>
</body>

</html>